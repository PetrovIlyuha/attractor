<form
  [formGroup]="registerForm"
  (ngSubmit)="registerForm.valid && register()"
  autocomplete="off"
  style="width: 50vw; margin-left: -12vw"
>
  <div class="d-flex justify-content-center">
    <h2 class="text-center text-dark mr-2">Sign Up to</h2>
    <img src="../../assets/app_logo.svg" alt="" style="width: 120px" />
  </div>
  <div style="padding: 1rem 0 1.5rem 0">
    <div class="form-group">
      <div class="row my-3">
        <div class="col-md-6">
          <div class="my-3" style="position: relative">
            <label for="username">Username</label>
            <input
              [class.is-invalid]="fieldIsInvalid('username')"
              type="text"
              id="username"
              class="form-control"
              formControlName="username"
              placeholder="Username"
            />
            <div
              class="invalid-feedback"
              style="position: absolute; top: 0; left: 50%"
              *ngIf="inputFieldErrors['username']"
            >
              {{ inputFieldErrors["username"] }}
            </div>
          </div>
          <hr />
          <div class="mt-5 d-flex align-items-center">
            <label class="control-label mr-2">Gender:</label>
            <label class="radio-inline ml-3" style="margin-top: 4px">
              <input type="radio" value="male" formControlName="gender" />
              Male
            </label>
            <label class="radio-inline ml-3" style="margin-top: 4px">
              <input type="radio" value="female" formControlName="gender" />
              Female
            </label>
          </div>
          <div class="form-group" style="margin: 1.1rem 0; position: relative">
            <label for="dateOfBirth">Date of Birth</label>
            <input
              [class.is-invalid]="fieldIsInvalid('dateOfBirth')"
              type="text"
              class="form-control"
              id="dateOfBirth"
              formControlName="dateOfBirth"
              placeholder="Date of Birth"
              bsDatepicker
              [bsConfig]="bsConfig"
              [maxDate]="maxRegisterDate"
            />
            <div
              class="invalid-feedback"
              style="position: absolute; top: 0; left: 50%"
              *ngIf="inputFieldErrors['dateOfBirth']"
            >
              {{ inputFieldErrors["dateOfBirth"] }}
            </div>
          </div>
          <hr />
          <div class="my-3" style="position: relative">
            <label for="password">Password</label>
            <input
              [class.is-invalid]="fieldIsInvalid('password')"
              type="password"
              id="password"
              class="form-control"
              formControlName="password"
              placeholder="Password"
            />
            <div
              class="invalid-feedback"
              *ngIf="inputFieldErrors['password']"
              style="position: absolute; top: 0; left: 36%"
            >
              {{ inputFieldErrors["password"] }}
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="my-3" style="position: relative">
            <label for="knownAs">Nickname</label>
            <input
              [class.is-invalid]="fieldIsInvalid('knownAs')"
              type="text"
              id="knownAs"
              class="form-control"
              formControlName="knownAs"
              placeholder="Nick name"
            />
            <div
              class="invalid-feedback"
              *ngIf="inputFieldErrors['knownAs']"
              style="position: absolute; top: 0; left: 50%"
            >
              {{ inputFieldErrors["knownAs"] }}
            </div>
          </div>
          <hr />
          <div class="my-3" style="position: relative">
            <label for="country">Country</label>
            <select
              [class.is-invalid]="fieldIsInvalid('country')"
              formControlName="country"
              id="country"
              class="form-control"
            >
              <option value="{{ country }}" *ngFor="let country of countries">
                {{ country }}
              </option>
            </select>

            <div
              class="invalid-feedback"
              *ngIf="inputFieldErrors['country']"
              style="position: absolute; top: 0; left: 50%"
            >
              {{ inputFieldErrors["country"] }}
            </div>
          </div>
          <div class="my-3" style="position: relative">
            <label for="city">City</label>
            <input
              [class.is-invalid]="fieldIsInvalid('city')"
              type="text"
              id="city"
              class="form-control"
              formControlName="city"
              placeholder="City of living"
            />
            <div
              class="invalid-feedback"
              *ngIf="inputFieldErrors['city']"
              style="position: absolute; top: 0; left: 50%"
            >
              {{ inputFieldErrors["city"] }}
            </div>
          </div>
          <hr />
          <div style="margin-top: 1.1rem; position: relative">
            <label for="confirmPassword">Confirm Password</label>
            <input
              [class.is-invalid]="fieldIsInvalid('confirmPassword')"
              type="password"
              id="confirmPassword"
              class="form-control"
              formControlName="confirmPassword"
              placeholder="Confirm Password"
            />
            <div
              class="invalid-feedback"
              *ngIf="inputFieldErrors['confirmPassword']"
              style="position: absolute; top: 0; left: 50%"
            >
              {{ inputFieldErrors["confirmPassword"] }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row" *ngIf="registerErrors.length > 0">
    <h4 class="text-danger text-center mb-3">You've got some errors!</h4>
    <ul>
      <li
        *ngFor="let error of registerErrors"
        class="text-white bg-danger rounded-lg my-2 text-center"
      >
        {{ error }}
      </li>
    </ul>
  </div>
  <div class="d-flex align-items-center">
    <button
      class="btn btn-primary btn-block h-100 mt-2"
      type="submit"
      [disabled]="!registerForm.valid"
    >
      Register
    </button>
    <button
      class="btn btn-danger btn-block ml-2 h-100"
      type="button"
      (click)="cancelRegistration()"
    >
      Cancel
    </button>
  </div>
</form>
